{{#> layout}}

  {{#*inline "customStyles"}}
    .section-header {
      text-align: center;
      margin-bottom: 32px;
    }
    
    .section-title {
      font-size: 28px;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 8px;
    }
    
    .section-subtitle {
      font-size: 16px;
      color: var(--text-medium);
    }
    
    .statement-period {
      background-color: var(--primary-light);
      border-radius: 12px;
      padding: 16px;
      text-align: center;
      margin-bottom: 32px;
    }
    
    .period-label {
      font-size: 16px;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 8px;
    }
    
    .period-value {
      font-size: 18px;
      font-weight: 500;
      color: var(--text-dark);
    }
    
    .client-details {
      background-color: var(--white);
      border-radius: 12px;
      padding: 24px;
      margin: 32px 0;
      border: 1px solid var(--border-light);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);
    }
    
    .client-details-title {
      margin-bottom: 16px;
      color: var(--primary);
      font-size: 18px;
      font-weight: 600;
    }
    
    .summary-box {
      background-color: var(--primary-light);
      border-radius: 12px;
      padding: 24px;
      margin: 32px 0;
    }
    
    .summary-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 16px;
      text-align: center;
    }
    
    .summary-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }
    
    .summary-item {
      background-color: var(--white);
      border-radius: 8px;
      padding: 16px;
      text-align: center;
    }
    
    .summary-label {
      font-size: 14px;
      color: var(--text-medium);
      margin-bottom: 8px;
    }
    
    .summary-value {
      font-size: 20px;
      font-weight: 700;
      color: var(--text-dark);
    }
    
    .summary-value.positive {
      color: var(--success);
    }
    
    .summary-value.negative {
      color: var(--warning);
    }
    
    .transactions-section {
      margin: 32px 0;
    }
    
    .transactions-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 16px;
    }
    
    .transaction-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 16px;
    }
    
    .transaction-table th {
      background-color: var(--primary-light);
      color: var(--primary);
      font-weight: 600;
      text-align: left;
      padding: 12px;
      font-size: 14px;
    }
    
    .transaction-table td {
      padding: 12px;
      border-bottom: 1px solid var(--border-light);
      font-size: 14px;
    }
    
    .transaction-table tr:last-child td {
      border-bottom: none;
    }
    
    .debit {
      color: var(--warning);
    }
    
    .credit {
      color: var(--success);
    }
    
    .table-note {
      font-size: 14px;
      color: var(--text-light);
      text-align: center;
      margin-top: 12px;
      font-style: italic;
    }
    
    .holding-summary {
      background-color: var(--white);
      border-radius: 12px;
      padding: 24px;
      margin: 32px 0;
      border: 1px solid var(--border-light);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);
    }
    
    .holding-summary-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 16px;
      text-align: center;
    }
    
    .note-box {
      background-color: var(--info-light);
      border-radius: 12px;
      padding: 16px;
      margin-top: 32px;
      display: flex;
      align-items: flex-start;
    }
    
    .note-icon {
      flex-shrink: 0;
      margin-right: 12px;
      font-size: 24px;
      color: var(--info);
    }
    
    .note-content {
      font-size: 14px;
      color: var(--text-medium);
    }
    
    .tax-reminder {
      background-color: var(--accent-light);
      border-radius: 12px;
      padding: 16px;
      margin-top: 32px;
      display: flex;
      align-items: flex-start;
    }
    
    .tax-icon {
      flex-shrink: 0;
      margin-right: 12px;
      font-size: 24px;
      color: var(--accent);
    }
    
    .tax-content {
      font-size: 14px;
      color: var(--text-medium);
    }
    
    .cta-container {
      text-align: center;
      margin: 32px 0;
      display: flex;
      gap: 16px;
      justify-content: center;
    }
    
    /* Mobile Optimization */
    @media (max-width: 550px) {
      .email-body {
        padding: 30px 24px;
      }
      
      .section-title {
        font-size: 24px;
      }
      
      .summary-grid {
        grid-template-columns: 1fr;
      }
      
      .transaction-table {
        display: block;
        overflow-x: auto;
      }
      
      .cta-container {
        flex-direction: column;
      }
      
      h1 {
        font-size: 24px;
      }
    }
  {{/inline}}

  {{#*inline "body"}}
    <div class="section-header">
      <h1 class="section-title">Ledger Statement</h1>
      <p class="section-subtitle">Account Activity Summary</p>
    </div>
    
    <div class="statement-period">
      <div class="period-label">Statement Period</div>
      <div class="period-value">{{startDate}} to {{endDate}}</div>
    </div>
    
    <p>Dear <strong>{{clientName}}</strong>,</p>
    
    <p>Please find attached your ledger statement for the period mentioned above. This statement provides a detailed record of all financial transactions in your trading account during this period, including funds added, withdrawn, and charges incurred.</p>
    
    <div class="client-details">
      <h3 class="client-details-title">Client Information</h3>
      
      {{> detail-row label="Client ID" value=clientId}}
      {{> detail-row label="Name" value=fullName}}
      {{> detail-row label="PAN" value=panNumber}}
      {{> detail-row label="Trading Segment" value=tradingSegments}}
    </div>
    
    <div class="summary-box">
      <h3 class="summary-title">Account Summary</h3>
      
      <div class="summary-grid">
        <div class="summary-item">
          <div class="summary-label">Opening Balance</div>
          <div class="summary-value">‚Çπ{{openingBalance}}</div>
        </div>
        
        <div class="summary-item">
          <div class="summary-label">Closing Balance</div>
          <div class="summary-value">‚Çπ{{closingBalance}}</div>
        </div>
        
        <div class="summary-item">
          <div class="summary-label">Total Credits</div>
          <div class="summary-value positive">‚Çπ{{totalCredits}}</div>
        </div>
        
        <div class="summary-item">
          <div class="summary-label">Total Debits</div>
          <div class="summary-value negative">‚Çπ{{totalDebits}}</div>
        </div>
      </div>
    </div>
    
    <div class="transactions-section">
      <h3 class="transactions-title">Recent Transactions</h3>
      
      <table class="transaction-table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Description</th>
            <th>Debit (‚Çπ)</th>
            <th>Credit (‚Çπ)</th>
            <th>Balance (‚Çπ)</th>
          </tr>
        </thead>
        <tbody>
          {{#each transactions}}
            <tr>
              <td>{{this.date}}</td>
              <td>{{this.description}}</td>
              <td {{#if this.debit}}class="debit"{{/if}}>{{this.debit}}</td>
              <td {{#if this.credit}}class="credit"{{/if}}>{{this.credit}}</td>
              <td>{{this.balance}}</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
      
      <p class="table-note">This is a summary of recent transactions. Please refer to the attached PDF for the complete statement.</p>
    </div>
    
    <div class="holding-summary">
      <h3 class="holding-summary-title">Holdings & Funds Summary</h3>
      
      {{> detail-row label="Total Holdings Value" value=holdingsValue}}
      {{> detail-row label="Available Cash Balance" value=cashBalance}}
      {{> detail-row label="Margin Used" value=marginUsed}}
      {{> detail-row label="Available Margin" value=availableMargin}}
    </div>
    
    <div class="note-box">
      <div class="note-icon">‚ÑπÔ∏è</div>
      <div class="note-content">
        <p style="margin-bottom: 8px;"><strong>Important Notes:</strong></p>
        <ul style="margin-bottom: 0; padding-left: 20px;">
          <li>This statement is for informational purposes only and is not an invoice.</li>
          <li>Please report any discrepancies within 7 days of receiving this statement.</li>
          <li>The complete detailed ledger statement is attached to this email in PDF format.</li>
          <li>You can also view your ledger statement by logging into your trading account.</li>
        </ul>
      </div>
    </div>
    
    <div class="tax-reminder">
      <div class="tax-icon">üìÖ</div>
      <div class="tax-content">
        <p style="margin-bottom: 8px;"><strong>Tax Season Reminder:</strong></p>
        <p style="margin-bottom: 0;">Your annual statements (P&L and Tax P&L) will be available in your account by April 15th for the financial year {{fyPeriod}}. These statements will help you in filing your income tax returns.</p>
      </div>
    </div>
    
    <div class="cta-container">
      <a href="{{viewStatementUrl}}" class="button">VIEW FULL STATEMENT</a>
      <a href="{{downloadPdfUrl}}" class="button button-secondary">DOWNLOAD PDF</a>
    </div>
    
    <p>If you have any questions or need any clarification regarding this ledger statement, please feel free to contact our support team.</p>
    
    <p>Thank you for choosing Sapphire Broking for your investment needs. We value your business and look forward to continuing to serve you.</p>
    
    <p>Best Regards,<br>
    The Sapphire Broking Team</p>
  {{/inline}}

{{/layout}}